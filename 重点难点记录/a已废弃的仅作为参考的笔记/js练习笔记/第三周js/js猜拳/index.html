<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8" />
		<title></title>
		<style type="text/css">
			*{
				margin: 0;
				padding: 0;
			}
			#caiquan-wrap{
				width: 700px;
				height: 550px;
				margin: auto;
				position: relative;
				background: #48D1CC;
			}
			.caiquan1,.caiquan2,.caiquan3{
				padding-top:30px;
				margin:0 30px 0px;
			}
			input[type="submit"]{
				width: 160px;
				height: 80px;
				border: none;
				position: absolute;
				right: 30px;
				top: 30px;
			}
			#caiquan-turn{
				width: 140px;
				height: 140px;
				position: absolute;
				right: 30px;
				bottom: 40px;
				background: gold;
			}
		</style>
	</head>
	<body>
		<div id="caiquan-wrap">
			<div id="caiquan-small-wrap">
				<div class="caiquan1"><img src="img/1.png"/></div>
				<div class="caiquan2"><img src="img/2.png"/></div>
				<div class="caiquan3"><img src="img/3.png"/></div>
			</div>
			<input type="submit" value="start"/>
			<div id="caiquan-turn"></div>
			<span></span>
		</div>
		<script>
			var caiquanwrap = document.getElementById("caiquan-wrap");
			var writeIn = caiquanwrap.getElementsByTagName("span");
			var arrimg = ["<img src='img/1.png'/>","<img src='img/2.png'/>","<img src='img/3.png'/>"];
			var caiquanSmallWrap = document.getElementById("caiquan-small-wrap");
			var everyCquan = caiquanSmallWrap.getElementsByTagName("img");
			var inp = document.getElementsByTagName("input");
			var caiquanturn = document.getElementById("caiquan-turn");
			var num = 0;
			var timer = null;
			function caiquan(){
				caiquanturn.innerHTML = arrimg[numarr = Math.floor(Math.random()*3)];//0.8，向下取整0,1.5就取整为1，到2.5上下，向下取整为2
			}
			inp[0].onclick = function(){
				clearInterval(timer);
				num++;
				timer = setInterval(caiquan,30);
			}
			//思路：下标对应比较
			for(var i=0;i<arrimg.length;i++){
				everyCquan[i].zdy = i;
				everyCquan[i].onclick = function(){
					if(this.zdy == numarr){
						clearInterval(timer);
						num = 0;
						writeIn[num].innerHTML = "平局";
					}else if(this.zdy==0&&numarr==1 || this.zdy==1&&numarr==2 || this.zdy==2&&numarr==0){
						clearInterval(timer);
						num = 0;
						writeIn[num].innerHTML = "win";
					}else if(this.zdy==0&&numarr==2 || this.zdy==1&&numarr==0 || this.zdy==2&&numarr==1){
						clearInterval(timer);
						num = 0;
						writeIn[num].innerHTML = "lose";
					}
				}
			}
		</script>
	</body>
</html>
